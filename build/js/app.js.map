{
  "version": 3,
  "file": "app.js",
  "sources": [
    "public/app/app.js",
    "public/app/scripts/services/beaconservice.js",
    "public/app/scripts/services/docentservice.js",
    "public/app/scripts/services/exhibitservice.js",
    "public/app/components/confirm-click/confirm-click.js",
    "public/app/views/admin/analytics/analytics.js",
    "public/app/views/admin/beacon/beacon.js",
    "public/app/views/admin/beacons/beacons.js",
    "public/app/views/admin/forms/docent/docent.js",
    "public/app/views/admin/forms/exhibit/exhibit.js",
    "public/app/views/docent/docent.js",
    "public/app/views/exhibit/exhibit.js",
    "public/app/views/exhibits/exhibits.js",
    "public/app/views/home/home.js",
    "tmp/templates.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A",
  "sourceRoot": "../..",
  "sourcesContent": [
    "(function (angular) {\n    'use strict';\n\n    function ConfigRoutes($stateProvider, $urlRouterProvider) {\n\n        $urlRouterProvider\n            .when('', '/')\n            .otherwise('/');\n\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: '../public/app/views/home/home.html',\n                controller: 'HomeController as homeCtrl'\n            })\n            .state('exhibits', {\n                url: '/exhibits',\n                templateUrl: '../public/app/views/exhibits/exhibits.html',\n                controller: 'ExhibitsController as exhibitsCtrl'\n            })\n            .state('exhibit', {\n                url: '/exhibits/:id',\n                templateUrl: '../public/app/views/exhibit/exhibit.html',\n                controller: 'ExhibitController as exhibitCtrl'\n            })\n            .state('docent', {\n                url: '/docents/:id',\n                templateUrl: '../public/app/views/docent/docent.html',\n                controller: 'DocentController as docentCtrl'\n            });\n\n        $stateProvider\n            .state('admin', {\n                abstract: true,\n                url: '/admin',\n                template: '<ui-view />'\n            })\n            .state('admin.beacons', {\n                url: '/beacons',\n                templateUrl: '../public/app/views/admin/beacons/beacons.html',\n                controller: 'BeaconsListController as beaconsCtrl'\n            })\n            .state('admin.beaconPage', {\n                url: '/beacons/:id',\n                templateUrl: '../public/app/views/admin/beacon/beacon.html',\n                controller: 'BeaconController as beaconCtrl'\n            })\n            .state('admin.analytics', {\n                url: '/analytics',\n                templateUrl: '../public/app/views/admin/analytics/analytics.html',\n                controller: 'AnalyticsController as analyticsCtrl'\n            })\n            .state('admin.forms', {\n                abstract: true,\n                url: '/forms',\n                template: '<ui-view />'\n            })\n            .state('admin.forms.docent', {\n                url: '/docent/:id',\n                templateUrl: '../public/app/views/admin/forms/docent/docent.html',\n                controller: 'DocentFormController as formCtrl'\n            })\n            .state('admin.forms.exhibit', {\n                url: '/exhibit/:id',\n                templateUrl: '../public/app/views/admin/forms/exhibit/exhibit.html',\n                controller: 'ExhibitFormController as formCtrl'\n            });\n    }\n\n    ConfigRoutes.$inject = [\n        '$stateProvider',\n        '$urlRouterProvider'\n    ];\n\n    angular.module('sky-beacons', [\n        'ui.router',\n        'sky',\n        'ui.bootstrap',\n        'sky-beacons.templates'\n    ])\n        .config(ConfigRoutes);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function BeaconService($http) {\n        var service;\n\n        service = this;\n\n        service.getAll = function () {\n            return $http.get('/api/beacons/').then(function (res) {\n                return res.data;\n            });\n        };\n    }\n\n    BeaconService.$inject = [\n        '$http',\n    ];\n\n    angular.module('sky-beacons')\n        .service('BeaconService', BeaconService);\n\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function DocentService($http, $q) {\n        var service;\n\n        service = this;\n\n        service.getAll = function () {\n            return $http.get('/api/docents/').then(function (res) {\n                return res.data;\n            });\n        };\n\n        service.getById = function (id) {\n            return $http.get('/api/docents/' + id).then(function (res) {\n                return res.data;\n            });\n        };\n\n        service.deleteById = function (id) {\n            var deferred;\n            deferred = $q.defer();\n\n            $http({\n                method: 'DELETE',\n                url: '/api/docents/' + id,\n                headers: {\n                    \"Content-Type\": \"application/json;charset=utf-8\"\n                }\n            }).then(function (res) {\n                deferred.resolve(res.data);\n            });\n\n            return deferred.promise;\n        };\n\n        service.add = function (data) {\n            var deferred = $q.defer();\n\n            $http.post('/api/docents/', {\n                data : data,\n                headers : {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function (res) {\n                if (res.data.error) {\n                    deferred.resolve(res.data);\n                } else {\n                    deferred.resolve(res.data);\n                }\n            });\n\n            return deferred.promise;\n        };\n\n        service.edit = function (data) {\n            var deferred;\n            deferred = $q.defer();\n\n            $http.put('/api/docents/' + data._id, {\n                data: data\n            }).then(function (res) {\n                if (res.data.error) {\n                    deferred.resolve(res.data);\n                } else {\n                    deferred.resolve(res.data);\n                }\n            });\n\n            return deferred.promise;\n        };\n    }\n\n    DocentService.$inject = [\n        '$http',\n        '$q'\n    ];\n\n    angular.module('sky-beacons')\n        .service('DocentService', DocentService);\n\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function ExhibitService($http, $q) {\n        var service;\n\n        service = this;\n\n        service.getAll = function () {\n            return $http.get('/api/exhibits/').then(function (res) {\n                return res.data;\n            });\n        };\n\n        service.getById = function (id) {\n            return $http.get('/api/exhibits/' + id).then(function (res) {\n                return res.data;\n            });\n        };\n\n        service.deleteById = function (id) {\n            var deferred;\n            deferred = $q.defer();\n\n            $http({\n                method: 'DELETE',\n                url: '/api/exhibits/' + id,\n                headers: {\n                    \"Content-Type\": \"application/json;charset=utf-8\"\n                }\n            }).then(function (res) {\n                deferred.resolve(res.data);\n            });\n\n            return deferred.promise;\n        };\n\n        service.add = function (data) {\n            var deferred = $q.defer();\n\n            $http.post('/api/exhibits/', {\n                data : data,\n                headers : {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function (res) {\n                if (res.data.error) {\n                    deferred.resolve(res.data);\n                } else {\n                    deferred.resolve(res.data);\n                }\n            });\n\n            return deferred.promise;\n        };\n\n        service.edit = function (data) {\n            var deferred;\n            deferred = $q.defer();\n\n            $http.put('/api/exhibits/' + data._id, {\n                data: data\n            }).then(function (res) {\n                if (res.data.error) {\n                    deferred.resolve(res.data);\n                } else {\n                    deferred.resolve(res.data);\n                }\n            });\n\n            return deferred.promise;\n        };\n    }\n\n    ExhibitService.$inject = [\n        '$http',\n        '$q'\n    ];\n\n    angular.module('sky-beacons')\n        .service('ExhibitService', ExhibitService);\n\n}(window.angular));\n",
    "(function (window, angular) {\n    'use strict';\n\n    function ccConfirmClick() {\n        return {\n            link: function (scope, element, attr) {\n                var clickAction,\n                    message;\n\n                message = attr.ccConfirmClick || \"Are you sure?\";\n                clickAction = attr.confirmedClick;\n                element.bind('click', function (event) {\n                    if (window.confirm(message)) {\n                        scope.$eval(clickAction);\n                    }\n                });\n            }\n        };\n    }\n\n    angular.module('sky-beacons')\n        .directive('ccConfirmClick', ccConfirmClick);\n}(window, window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function AnalyticsController($stateParams, BeaconService, $state) {\n        var self = this;\n\n        function uniqueSessionsBetweenDates(data, startDate, endDate) {\n            var i,\n                sessionIds = [],\n                visit;\n\n            i = data.length;\n            while (i--) {\n                visit = data[i]; \n                if (visit.date_indate >= startDate && visit.date_indate <= endDate && sessionIds.indexOf(visit.sessionId) < 0) {\n                    sessionIds.push(visit.sessionId);\n                }\n            }\n\n            return sessionIds.length;\n        }\n\n        function addHours(date, hours) {\n            var result = new Date(date);\n            result.setHours(result.getHours() + hours);\n            return result;\n        }\n\n        function addDays(date, days) {\n            var result = new Date(date);\n            result.setDate(result.getDate() + days);\n            return result;\n        }\n\n        function buildCards(beacon) {\n            var i,\n                today = new Date(),\n                todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n            \n            i = beacon.visits.length;\n            while (i--) {\n                beacon.visits[i].date_indate = new Date(beacon.visits[i].date);\n            }\n\n            beacon.cards = [];\n            beacon.cards.push({\n                title: 'Visitors This Hour',\n                count: uniqueSessionsBetweenDates(beacon.visits, addHours(today, -1), today)\n            });\n\n            beacon.cards.push({\n                title: 'Visitors Last Hour',\n                count: uniqueSessionsBetweenDates(beacon.visits, addHours(today, -2), addHours(today, -1))\n            });\n\n            beacon.cards.push({\n                title: 'Visitors Today',\n                count: uniqueSessionsBetweenDates(beacon.visits, todayStart, addDays(todayStart, 1))\n            });\n\n            beacon.cards.push({\n                title: 'Visitors Yesterday',\n                count: uniqueSessionsBetweenDates(beacon.visits, addDays(todayStart, -1), todayStart)\n            });\n\n            beacon.cards.push({\n                title: 'Visitors Last 7 Days',\n                count: uniqueSessionsBetweenDates(beacon.visits,  addDays(today, -7), today)\n            });\n\n            beacon.cards.push({\n                title: 'Visitors Last 30 Days',\n                count: uniqueSessionsBetweenDates(beacon.visits, addDays(today, -30), today)\n            });\n        }\n\n        BeaconService.getAll().then(function(data) {\n            var i;\n\n            self.beacons = data.value;\n                \n            i = self.beacons.length;\n            while (i--) {\n                buildCards(self.beacons[i]);\n            }\n        });\n    }\n\n    AnalyticsController.$inject = [\n        '$stateParams',\n        'BeaconService',\n        '$state'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('AnalyticsController', AnalyticsController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function BeaconController($stateParams, ExhibitService, DocentService, $state) {\n        var self = this;\n\n        function uniqueSessionsBetweenDates(data, startDate, endDate) {\n            var i,\n                sessionIds = [],\n                visit;\n\n            i = data.length;\n            while (i--) {\n                visit = data[i]; \n                if (visit.date_indate >= startDate && visit.date_indate <= endDate && sessionIds.indexOf(visit.sessionId) < 0) {\n                    sessionIds.push(visit.sessionId);\n                }\n            }\n\n            return sessionIds.length;\n        }\n\n        function addHours(date, hours) {\n            var result = new Date(date);\n            result.setHours(result.getHours() + hours);\n            return result;\n        }\n\n        function addDays(date, days) {\n            var result = new Date(date);\n            result.setDate(result.getDate() + days);\n            return result;\n        }\n\n        function buildCards() {\n            var i,\n                today = new Date(),\n                todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n            \n            i = self.beacon.visits.length;\n            while (i--) {\n                self.beacon.visits[i].date_indate = new Date(self.beacon.visits[i].date);\n            }\n\n            self.cards = [];\n            self.cards.push({\n                title: 'Visitors This Hour',\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addHours(today, -1), today)\n            });\n\n            self.cards.push({\n                title: 'Visitors Last Hour',\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addHours(today, -2), addHours(today, -1))\n            });\n\n            self.cards.push({\n                title: 'Visitors Today',\n                count: uniqueSessionsBetweenDates(self.beacon.visits, todayStart, addDays(todayStart, 1))\n            });\n\n            self.cards.push({\n                title: 'Visitors Yesterday',\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addDays(todayStart, -1), todayStart)\n            });\n\n            self.cards.push({\n                title: 'Visitors Last 7 Days',\n                count: uniqueSessionsBetweenDates(self.beacon.visits,  addDays(today, -7), today)\n            });\n\n            self.cards.push({\n                title: 'Visitors Last 30 Days',\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addDays(today, -30), today)\n            });\n        }\n\n        ExhibitService.getById($stateParams.id).then(function(data) {\n            if (data != null) {\n                self.beacon = data;\n                self.beacon.beaconType = \"exhibit\";\n\n                buildCards();\n            }\n        });\n\n        DocentService.getById($stateParams.id).then(function(data) {\n            if (data != null) {\n                self.beacon = data;\n                self.beacon.beaconType = \"person\";\n\n                buildCards();\n            }\n        });\n\n        self.goToEdit = function (beacon) {\n            switch (self.beacon.beaconType) {\n                case 'person':\n                    $state.go('admin.forms.docent', { id: self.beacon._id });\n                    break;\n                case 'exhibit':\n                    $state.go('admin.forms.exhibit', { id: self.beacon._id });\n                    break;\n            }\n        };\n    }\n\n    BeaconController.$inject = [\n        '$stateParams',\n        'ExhibitService',\n        'DocentService',\n        '$state'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('BeaconController', BeaconController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function BeaconsListController($state, BeaconService) {\n        var self = this,\n            beacons;\n\n        BeaconService.getAll().then(function(data) {\n            self.beacons = data.value;\n        });\n\n        self.goToEdit = function (beacon) {\n            switch (beacon.beaconType) {\n            case 'person':\n                $state.go('admin.forms.docent', { id: beacon._id });\n                break;\n            case 'exhibit':\n                $state.go('admin.forms.exhibit', { id: beacon._id });\n                break;\n            }\n        };\n    }\n\n    BeaconsListController.$inject = [\n        '$state',\n        'BeaconService'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('BeaconsListController', BeaconsListController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function DocentFormController($sce, $state, DocentService) {\n        var processError,\n            vm;\n\n        vm = this;\n        vm.formData = {\n            beaconType: 'docent'\n        };\n\n        processError = function (data) {\n            vm.error = data.error.message || data.error.errmsg;\n            switch (data.error.code) {\n                case 4:\n                case 5:\n                vm.needsLogin = true;\n                break;\n            }\n        };\n\n        if ($state.params.id) {\n            DocentService.getById($state.params.id).then(function (data) {\n                vm.formData = data;\n                vm.isReady = true;\n            });\n        } else {\n            vm.isReady = true;\n        }\n\n        vm.delete = function () {\n            DocentService.deleteById(vm.formData._id).then(function (data) {\n                if (data.success) {\n                    $state.go('home');\n                } else {\n                    processError(data);\n                }\n            });\n        };\n\n        vm.submit = function () {\n            vm.error = false;\n            vm.success = false;\n            vm.scrollToTop = false;\n            if (vm.formData._id) {\n                DocentService.edit(vm.formData).then(function (data) {\n                    if (data.error) {\n                        processError(data);\n                    }\n                    vm.success = 'Docent successfully updated.';\n                    vm.formData = data;\n                    vm.scrollToTop = true;\n                });\n            } else {\n                DocentService.add(vm.formData).then(function (data) {\n                    if (data.error) {\n                        processError(data);\n                    }\n                    vm.success = 'Docent successfully created.';\n                    vm.formData = data;\n                    vm.scrollToTop = true;\n                });\n            }\n        };\n\n        vm.trustHtml = function (markup) {\n            return $sce.trustAsHtml(markup);\n        };\n    }\n\n    DocentFormController.$inject = [\n        '$sce',\n        '$state',\n        'DocentService'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('DocentFormController', DocentFormController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function ExhibitFormController($sce, $state, ExhibitService) {\n        var processError,\n            vm;\n\n        vm = this;\n        vm.formData = {\n            beaconType: 'exhibit'\n        };\n\n        processError = function (data) {\n            vm.error = data.error.message || data.error.errmsg;\n            switch (data.error.code) {\n                case 4:\n                case 5:\n                vm.needsLogin = true;\n                break;\n            }\n        };\n\n        if ($state.params.id) {\n            ExhibitService.getById($state.params.id).then(function (data) {\n                vm.formData = data;\n                console.log(data);\n                vm.isReady = true;\n            });\n        } else {\n            vm.isReady = true;\n        }\n\n        vm.addPiece = function () {\n            if (!vm.formData.pieces) {\n                vm.formData.pieces = [];\n            }\n            vm.formData.pieces.push({});\n        };\n\n        vm.delete = function () {\n            ExhibitService.deleteById(vm.formData._id).then(function (data) {\n                if (data.success) {\n                    $state.go('home');\n                } else {\n                    processError(data);\n                }\n            });\n        };\n\n        vm.removePiece = function (index) {\n             vm.formData.pieces.splice(index, 1);\n        };\n\n        vm.submit = function () {\n            vm.error = false;\n            vm.success = false;\n            vm.scrollToTop = false;\n            if (vm.formData._id) {\n                ExhibitService.edit(vm.formData).then(function (data) {\n                    if (data.error) {\n                        return processError(data);\n                    }\n                    vm.success = 'Exhibit successfully updated.';\n                    vm.formData = data;\n                    vm.scrollToTop = true;\n                });\n            } else {\n                ExhibitService.add(vm.formData).then(function (data) {\n                    if (data.error) {\n                        return processError(data);\n                    }\n                    vm.success = 'Exhibit successfully created.';\n                    vm.formData = data;\n                    vm.scrollToTop = true;\n                });\n            }\n        };\n\n        vm.trustHtml = function (markup) {\n            return $sce.trustAsHtml(markup);\n        };\n    }\n\n    ExhibitFormController.$inject = [\n        '$sce',\n        '$state',\n        'ExhibitService'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('ExhibitFormController', ExhibitFormController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function DocentController(DocentService, $stateParams) {\n        var vm;\n\n        vm = this;\n\n        DocentService.getById($stateParams.id).then(function (data) {\n            vm.docent = data;\n        });\n    }\n\n    DocentController.$inject = [\n        'DocentService',\n        '$stateParams'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('DocentController', DocentController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function ExhibitController(ExhibitService, $stateParams) {\n        var vm;\n\n        vm = this;\n\n        ExhibitService.getById($stateParams.id).then(function (data) {\n            vm.exhibit = data;\n        });\n    }\n\n    ExhibitController.$inject = [\n        'ExhibitService',\n        '$stateParams'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('ExhibitController', ExhibitController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function ExhibitsController() {}\n\n    angular.module('sky-beacons')\n        .controller('ExhibitsController', ExhibitsController);\n}(window.angular));\n",
    "(function (angular) {\n    'use strict';\n\n    function HomeController(DocentService, ExhibitService) {\n        var vm;\n\n        vm = this;\n\n        DocentService.getAll().then(function (data) {\n            vm.docents = data.value;\n        });\n\n        ExhibitService.getAll().then(function (data) {\n            vm.exhibits = data.value;\n        });\n\n    }\n\n    HomeController.$inject = [\n        'DocentService',\n        'ExhibitService'\n    ];\n\n    angular.module('sky-beacons')\n        .controller('HomeController', HomeController);\n}(window.angular));\n",
    "angular.module('sky-beacons.templates', []).run(['$templateCache', function($templateCache) {\n    $templateCache.put('../public/app/views/admin/analytics/analytics.html',\n        '<div ng-repeat=\"beacon in analyticsCtrl.beacons\"><div class=container><a href=#><h2 ui-sref=\"admin.beaconPage({id: beacon._id})\">{{beacon.name}}</h2></a></div><bb-carousel bb-carousel-style=card-small><bb-carousel-item ng-repeat=\"card in beacon.cards\"><bb-card bb-card-size=small><bb-card-title>{{card.title}}</bb-card-title><bb-card-content style=\"margin-left: auto; margin-right: auto; font-size: 80px\">{{card.count}}</bb-card-content></bb-card></bb-carousel-item></bb-carousel></div>');\n    $templateCache.put('../public/app/views/admin/beacon/beacon.html',\n        '<div><bb-page-summary><bb-page-summary-image><bb-avatar bb-avatar-name=beaconCtrl.beacon.name bb-avatar-src=beaconCtrl.beacon.image></bb-avatar></bb-page-summary-image><bb-page-summary-title>{{beaconCtrl.beacon.name}}</bb-page-summary-title><bb-page-summary-subtitle>{{beaconCtrl.beacon.beaconType}}</bb-page-summary-subtitle><bb-page-summary-content><span class=bb-text-block>{{beaconCtrl.beacon.description}}</span></bb-page-summary-content><bb-page-summary-action-bar><bb-action-bar><bb-action-bar-item ng-click=beaconCtrl.goToEdit()>Edit</bb-action-bar-item></bb-action-bar></bb-page-summary-action-bar></bb-page-summary><div style=\"margin-top: 10px\"><bb-carousel bb-carousel-style=card-small><bb-carousel-item ng-repeat=\"card in beaconCtrl.cards\"><bb-card bb-card-size=small><bb-card-title>{{card.title}}</bb-card-title><bb-card-content style=\"margin-left: auto; margin-right: auto; font-size: 80px\">{{card.count}}</bb-card-content></bb-card></bb-carousel-item></bb-carousel></div></div>');\n    $templateCache.put('../public/app/views/admin/beacons/beacons.html',\n        '<div class=container><bb-carousel bb-carousel-style=card-large><bb-carousel-item ng-repeat=\"beacon in beaconsCtrl.beacons\"><bb-card bb-card-size=large><bb-card-title>{{beacon.name}}</bb-card-title><bb-card-content><div class=bb-emphasized>ID</div>{{beacon.UID}}<div class=bb-emphasized style=\"margin-top: 10px\">Type</div>{{beacon.beaconType}}<div class=bb-emphasized style=\"margin-top: 10px\">Description</div>{{beacon.description}}</bb-card-content><bb-card-actions><button type=button class=\"btn btn-primary\" ui-sref=admin.beaconPage({id:beacon._id})>More information</button> <button type=button class=\"btn btn-default\" ng-click=beaconsCtrl.goToEdit(beacon)>Edit</button></bb-card-actions></bb-card></bb-carousel-item></bb-carousel><p><a ui-sref=admin.forms.exhibit()>Create Exhibit</a></p><p><a ui-sref=admin.forms.docent()>Create Docent</a></p></div>');\n    $templateCache.put('../public/app/views/admin/forms/docent/docent.html',\n        '<div class=container ng-if=::formCtrl.isReady><div class=page-header bb-scroll-into-view=formCtrl.scrollToTop><h1 ng-if=formCtrl.formData._id>Edit {{ formCtrl.formData.name }}</h1><h1 ng-if=!formCtrl.formData._id>Add Docent</h1></div><div ng-if=formCtrl.success class=\"alert alert-success\" ng-bind-html=formCtrl.trustHtml(formCtrl.success)></div><div ng-if=formCtrl.error class=\"alert alert-danger\"><p ng-bind-html=formCtrl.trustHtml(formCtrl.error)></p></div><form name=docentForm class=form-horizontal ng-submit=formCtrl.submit() novalidate><div class=row><div class=col-sm-10><div class=form-group><label class=\"col-sm-2 control-label\">Name:</label><div class=col-sm-10><input class=form-control name=name ng-model=formCtrl.formData.name></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Beacon UID:</label><div class=col-sm-10><input class=form-control name=UID ng-model=formCtrl.formData.UID></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Title:</label><div class=col-sm-10><input class=form-control name=title ng-model=formCtrl.formData.title></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Expertise:</label><div class=col-sm-10><input class=form-control name=expertise ng-model=formCtrl.formData.expertise></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Image URL:</label><div class=col-sm-10><input class=form-control name=image ng-model=formCtrl.formData.image></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Bio:</label><div class=col-sm-10><textarea class=form-control name=description ng-model=formCtrl.formData.description></textarea></div></div></div><div class=col-sm-2><button ng-if=formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=docentForm.$invalid><i class=\"fa fa-save\"></i>Save</button> <button ng-if=!formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=docentForm.$invalid><i class=\"fa fa-plus\"></i>Create</button> <button ng-if=formCtrl.formData._id class=\"btn btn-danger btn-block\" type=button cc-confirm-click data-confirmed-click=formCtrl.delete()><i class=\"fa fa-trash\"></i>Delete</button></div></div></form></div>');\n    $templateCache.put('../public/app/views/admin/forms/exhibit/exhibit.html',\n        '<div class=container ng-if=::formCtrl.isReady><div class=page-header bb-scroll-into-view=formCtrl.scrollToTop><h1 ng-if=formCtrl.formData._id>Edit {{ formCtrl.formData.name }}</h1><h1 ng-if=!formCtrl.formData._id>Add Exhibit</h1></div><div ng-if=formCtrl.success class=\"alert alert-success\" ng-bind-html=formCtrl.trustHtml(formCtrl.success)></div><div ng-if=formCtrl.error class=\"alert alert-danger\"><p ng-bind-html=formCtrl.trustHtml(formCtrl.error)></p></div><form name=exhibitForm class=form-horizontal ng-submit=formCtrl.submit() novalidate><div class=row><div class=col-sm-10><ul class=\"nav nav-tabs\"><li role=presentation class=active><a href=#tab-details target=_self data-toggle=tab>Details</a></li><li role=presentation><a href=#tab-pieces target=_self data-toggle=tab>Pieces</a></li></ul><div class=tab-content><div class=\"tab-pane active\" id=tab-details><div class=form-group><label class=\"col-sm-2 control-label\">Name:</label><div class=col-sm-10><input class=form-control name=name ng-model=formCtrl.formData.name></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Beacon UID:</label><div class=col-sm-10><input class=form-control name=UID ng-model=formCtrl.formData.UID></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Image URL:</label><div class=col-sm-10><input class=form-control name=image ng-model=formCtrl.formData.image></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Description:</label><div class=col-sm-10><textarea class=form-control name=description ng-model=formCtrl.formData.description></textarea></div></div></div><div class=tab-pane id=tab-pieces><div class=form-group><label class=\"col-sm-2 control-label\">Pieces:</label><div class=col-sm-10><div ng-repeat=\"piece in formCtrl.formData.pieces\" class=form-group-list-item><div class=row><div class=col-sm-10><div class=row><div class=col-sm-6><div class=form-group><label>Name:</label><input class=form-control ng-model=piece.name></div></div><div class=col-sm-6><div class=form-group><label>Description:</label><textarea class=form-control type=text ng-model=piece.description></textarea></div></div></div><div class=row><div class=col-sm-6><div class=form-group><label>Full URL:</label><input class=form-control ng-model=piece.link placeholder=\"http://\"></div></div><div class=col-sm-6><div class=form-group><label>Image URL:</label><input class=form-control ng-model=piece.image placeholder=\"http://\"></div></div></div></div><div class=col-sm-2><div class=form-group><label>&nbsp;</label><button type=button class=\"btn btn-default btn-sm btn-block\" ng-click=formCtrl.removePiece($index)><i class=\"fa fa-minus\"></i>Remove</button></div></div></div></div><button type=button class=\"btn btn-link\" ng-click=formCtrl.addPiece()><i class=\"fa fa-plus\"></i> Add Piece</button></div></div></div></div></div><div class=col-sm-2><button ng-if=formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=exhibitForm.$invalid><i class=\"fa fa-save\"></i>Save</button> <button ng-if=!formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=exhibitForm.$invalid><i class=\"fa fa-plus\"></i>Create</button> <button ng-if=formCtrl.formData._id class=\"btn btn-danger btn-block\" type=button cc-confirm-click data-confirmed-click=formCtrl.delete()><i class=\"fa fa-trash\"></i>Delete</button></div></div></form></div>');\n    $templateCache.put('../public/app/views/docent/docent.html',\n        '<section class=\"section container\"><h1 class=page-header>{{:: docentCtrl.docent.name }}</h1><img class=\"ex-image img-responsive\" src=\"{{:: docentCtrl.docent.image }}\"><div class=well><span class=do-expertise>{{:: docentCtrl.docent.expertise }}</span><p class=ex-description>{{:: docentCtrl.docent.description }}</p></div></section>');\n    $templateCache.put('../public/app/views/exhibit/exhibit.html',\n        '<section class=\"section container\"><h1 class=page-header>{{:: exhibitCtrl.exhibit.name }}</h1><img class=\"ex-image img-responsive\" ng-src=\"{{:: exhibitCtrl.exhibit.image }}\"><p class=ex-description>{{:: exhibitCtrl.exhibit.description }}</p></section><section class=container><h2>Pieces in this exhibit</h2><div class=media ng-repeat=\"piece in exhibitCtrl.exhibit.pieces\"><div class=media-left><a href=#><img class=media-object ng-src={{piece.image}} alt=\"\"></a></div><div class=media-body><h4 class=media-heading>{{piece.name}}</h4><p>{{piece.description}}</p><p><a href={{piece.link}}>Read more</a></p></div></div></section>');\n    $templateCache.put('../public/app/views/exhibits/exhibits.html',\n        'Hello, World!');\n    $templateCache.put('../public/app/views/home/home.html',\n        '<section class=\"section home section-primary\"><header class=container><h1>Sky Beacons</h1></header></section><div class=container><div class=row><div class=col-md-12><h2 class=home-subhead>Exhibits</h2></div><div ng-repeat=\"exhibit in homeCtrl.exhibits\" class=col-sm-4><div class=\"panel panel-default\"><div class=panel-heading><h3 class=\"bb-section-heading panel-title\">{{:: exhibit.name }}</h3></div><div class=panel-body><div class=panel-image><img class=img-responsive ng-src=\"{{:: exhibit.image }}\"></div><button class=\"btn btn-primary pull-right\" ui-sref=\"exhibit({id: exhibit._id})\">View</button></div></div></div></div><div class=row><div class=col-md-12><h2 class=home-subhead>Docents</h2></div><div ng-repeat=\"docent in homeCtrl.docents\" class=col-sm-4><div class=\"panel panel-default\"><div class=panel-heading><h3 class=\"bb-section-heading panel-title\">{{:: docent.name }}</h3><h5 class=bb-section-subheading>{{:: docent.expertise}}</h5></div><div class=panel-body><div class=panel-image><img class=img-responsive ng-src=\"{{:: docent.image }}\"></div><button class=\"btn btn-primary pull-right\" ui-sref=\"docent({id: docent._id})\">View</button></div></div></div></div></div>');\n}]);\n"
  ]
}