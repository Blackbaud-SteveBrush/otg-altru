{
  "version": 3,
  "file": "app.js",
  "sources": [
    "public/app/app.js",
    "public/app/scripts/services/beaconservice.js",
    "public/app/scripts/services/docentservice.js",
    "public/app/scripts/services/exhibitservice.js",
    "public/app/components/confirm-click/confirm-click.js",
    "public/app/views/admin/analytics/analytics.js",
    "public/app/views/admin/beacon/beacon.js",
    "public/app/views/admin/beacons/beacons.js",
    "public/app/views/admin/forms/docent/docent.js",
    "public/app/views/admin/forms/exhibit/exhibit.js",
    "public/app/views/docent/docent.js",
    "public/app/views/exhibit/exhibit.js",
    "public/app/views/exhibits/exhibits.js",
    "public/app/views/home/home.js",
    "tmp/templates.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A",
  "sourceRoot": "../..",
  "sourcesContent": [
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function ConfigRoutes($stateProvider, $urlRouterProvider) {\r\n\r\n        $urlRouterProvider\r\n            .when('', '/')\r\n            .otherwise('/');\r\n\r\n        $stateProvider\r\n            .state('home', {\r\n                url: '/',\r\n                templateUrl: '../public/app/views/home/home.html',\r\n                controller: 'HomeController as homeCtrl'\r\n            })\r\n            .state('exhibits', {\r\n                url: '/exhibits',\r\n                templateUrl: '../public/app/views/exhibits/exhibits.html',\r\n                controller: 'ExhibitsController as exhibitsCtrl'\r\n            })\r\n            .state('exhibit', {\r\n                url: '/exhibits/:id',\r\n                templateUrl: '../public/app/views/exhibit/exhibit.html',\r\n                controller: 'ExhibitController as exhibitCtrl'\r\n            })\r\n            .state('docent', {\r\n                url: '/docents/:id',\r\n                templateUrl: '../public/app/views/docent/docent.html',\r\n                controller: 'DocentController as docentCtrl'\r\n            });\r\n\r\n        $stateProvider\r\n            .state('admin', {\r\n                abstract: true,\r\n                url: '/admin',\r\n                template: '<ui-view />'\r\n            })\r\n            .state('admin.beacons', {\r\n                url: '/beacons',\r\n                templateUrl: '../public/app/views/admin/beacons/beacons.html',\r\n                controller: 'BeaconsListController as beaconsCtrl'\r\n            })\r\n            .state('admin.beaconPage', {\r\n                url: '/beacons/:id',\r\n                templateUrl: '../public/app/views/admin/beacon/beacon.html',\r\n                controller: 'BeaconController as beaconCtrl'\r\n            })\r\n            .state('admin.analytics', {\r\n                url: '/analytics',\r\n                templateUrl: '../public/app/views/admin/analytics/analytics.html',\r\n                controller: 'AnalyticsController as analyticsCtrl'\r\n            })\r\n            .state('admin.forms', {\r\n                abstract: true,\r\n                url: '/forms',\r\n                template: '<ui-view />'\r\n            })\r\n            .state('admin.forms.docent', {\r\n                url: '/docent/:id',\r\n                templateUrl: '../public/app/views/admin/forms/docent/docent.html',\r\n                controller: 'DocentFormController as formCtrl'\r\n            })\r\n            .state('admin.forms.exhibit', {\r\n                url: '/exhibit/:id',\r\n                templateUrl: '../public/app/views/admin/forms/exhibit/exhibit.html',\r\n                controller: 'ExhibitFormController as formCtrl'\r\n            });\r\n    }\r\n\r\n    ConfigRoutes.$inject = [\r\n        '$stateProvider',\r\n        '$urlRouterProvider'\r\n    ];\r\n\r\n    angular.module('sky-beacons', [\r\n        'ui.router',\r\n        'sky',\r\n        'ui.bootstrap',\r\n        'sky-beacons.templates'\r\n    ])\r\n        .config(ConfigRoutes);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function BeaconService($http) {\r\n        var service;\r\n\r\n        service = this;\r\n\r\n        service.getAll = function () {\r\n            return $http.get('/api/beacons/').then(function (res) {\r\n                return res.data;\r\n            });\r\n        };\r\n    }\r\n\r\n    BeaconService.$inject = [\r\n        '$http',\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .service('BeaconService', BeaconService);\r\n\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function DocentService($http, $q) {\r\n        var service;\r\n\r\n        service = this;\r\n\r\n        service.getAll = function () {\r\n            return $http.get('/api/docents/').then(function (res) {\r\n                return res.data;\r\n            });\r\n        };\r\n\r\n        service.getById = function (id) {\r\n            return $http.get('/api/docents/' + id).then(function (res) {\r\n                return res.data;\r\n            });\r\n        };\r\n\r\n        service.deleteById = function (id) {\r\n            var deferred;\r\n            deferred = $q.defer();\r\n\r\n            $http({\r\n                method: 'DELETE',\r\n                url: '/api/docents/' + id,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json;charset=utf-8\"\r\n                }\r\n            }).then(function (res) {\r\n                deferred.resolve(res.data);\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        service.add = function (data) {\r\n            var deferred = $q.defer();\r\n\r\n            $http.post('/api/docents/', {\r\n                data : data,\r\n                headers : {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            }).then(function (res) {\r\n                if (res.data.error) {\r\n                    deferred.resolve(res.data);\r\n                } else {\r\n                    deferred.resolve(res.data);\r\n                }\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        service.edit = function (data) {\r\n            var deferred;\r\n            deferred = $q.defer();\r\n\r\n            $http.put('/api/docents/' + data._id, {\r\n                data: data\r\n            }).then(function (res) {\r\n                if (res.data.error) {\r\n                    deferred.resolve(res.data);\r\n                } else {\r\n                    deferred.resolve(res.data);\r\n                }\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n    }\r\n\r\n    DocentService.$inject = [\r\n        '$http',\r\n        '$q'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .service('DocentService', DocentService);\r\n\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function ExhibitService($http, $q) {\r\n        var service;\r\n\r\n        service = this;\r\n\r\n        service.getAll = function () {\r\n            return $http.get('/api/exhibits/').then(function (res) {\r\n                return res.data;\r\n            });\r\n        };\r\n\r\n        service.getById = function (id) {\r\n            return $http.get('/api/exhibits/' + id).then(function (res) {\r\n                return res.data;\r\n            });\r\n        };\r\n\r\n        service.deleteById = function (id) {\r\n            var deferred;\r\n            deferred = $q.defer();\r\n\r\n            $http({\r\n                method: 'DELETE',\r\n                url: '/api/exhibits/' + id,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json;charset=utf-8\"\r\n                }\r\n            }).then(function (res) {\r\n                deferred.resolve(res.data);\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        service.add = function (data) {\r\n            var deferred = $q.defer();\r\n\r\n            $http.post('/api/exhibits/', {\r\n                data : data,\r\n                headers : {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            }).then(function (res) {\r\n                if (res.data.error) {\r\n                    deferred.resolve(res.data);\r\n                } else {\r\n                    deferred.resolve(res.data);\r\n                }\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n\r\n        service.edit = function (data) {\r\n            var deferred;\r\n            deferred = $q.defer();\r\n\r\n            $http.put('/api/exhibits/' + data._id, {\r\n                data: data\r\n            }).then(function (res) {\r\n                if (res.data.error) {\r\n                    deferred.resolve(res.data);\r\n                } else {\r\n                    deferred.resolve(res.data);\r\n                }\r\n            });\r\n\r\n            return deferred.promise;\r\n        };\r\n    }\r\n\r\n    ExhibitService.$inject = [\r\n        '$http',\r\n        '$q'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .service('ExhibitService', ExhibitService);\r\n\r\n}(window.angular));\r\n",
    "(function (window, angular) {\r\n    'use strict';\r\n\r\n    function ccConfirmClick() {\r\n        return {\r\n            link: function (scope, element, attr) {\r\n                var clickAction,\r\n                    message;\r\n\r\n                message = attr.ccConfirmClick || \"Are you sure?\";\r\n                clickAction = attr.confirmedClick;\r\n                element.bind('click', function (event) {\r\n                    if (window.confirm(message)) {\r\n                        scope.$eval(clickAction);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    angular.module('sky-beacons')\r\n        .directive('ccConfirmClick', ccConfirmClick);\r\n}(window, window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function AnalyticsController($stateParams, BeaconService, $state) {\r\n        var self = this;\r\n\r\n        function uniqueSessionsBetweenDates(data, startDate, endDate) {\r\n            var i,\r\n                sessionIds = [],\r\n                visit;\r\n\r\n            i = data.length;\r\n            while (i--) {\r\n                visit = data[i]; \r\n                if (visit.date_indate >= startDate && visit.date_indate <= endDate && sessionIds.indexOf(visit.sessionId) < 0) {\r\n                    sessionIds.push(visit.sessionId);\r\n                }\r\n            }\r\n\r\n            return sessionIds.length;\r\n        }\r\n\r\n        function addHours(date, hours) {\r\n            var result = new Date(date);\r\n            result.setHours(result.getHours() + hours);\r\n            return result;\r\n        }\r\n\r\n        function addDays(date, days) {\r\n            var result = new Date(date);\r\n            result.setDate(result.getDate() + days);\r\n            return result;\r\n        }\r\n\r\n        function buildCards(beacon) {\r\n            var i,\r\n                today = new Date(),\r\n                todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n            \r\n            i = beacon.visits.length;\r\n            while (i--) {\r\n                beacon.visits[i].date_indate = new Date(beacon.visits[i].date);\r\n            }\r\n\r\n            beacon.cards = [];\r\n            beacon.cards.push({\r\n                title: 'Visitors This Hour',\r\n                count: uniqueSessionsBetweenDates(beacon.visits, addHours(today, -1), today)\r\n            });\r\n\r\n            beacon.cards.push({\r\n                title: 'Visitors Last Hour',\r\n                count: uniqueSessionsBetweenDates(beacon.visits, addHours(today, -2), addHours(today, -1))\r\n            });\r\n\r\n            beacon.cards.push({\r\n                title: 'Visitors Today',\r\n                count: uniqueSessionsBetweenDates(beacon.visits, todayStart, addDays(todayStart, 1))\r\n            });\r\n\r\n            beacon.cards.push({\r\n                title: 'Visitors Yesterday',\r\n                count: uniqueSessionsBetweenDates(beacon.visits, addDays(todayStart, -1), todayStart)\r\n            });\r\n\r\n            beacon.cards.push({\r\n                title: 'Visitors Last 7 Days',\r\n                count: uniqueSessionsBetweenDates(beacon.visits,  addDays(today, -7), today)\r\n            });\r\n\r\n            beacon.cards.push({\r\n                title: 'Visitors Last 30 Days',\r\n                count: uniqueSessionsBetweenDates(beacon.visits, addDays(today, -30), today)\r\n            });\r\n        }\r\n\r\n        BeaconService.getAll().then(function(data) {\r\n            var i;\r\n\r\n            self.beacons = data.value;\r\n                \r\n            i = self.beacons.length;\r\n            while (i--) {\r\n                buildCards(self.beacons[i]);\r\n            }\r\n        });\r\n    }\r\n\r\n    AnalyticsController.$inject = [\r\n        '$stateParams',\r\n        'BeaconService',\r\n        '$state'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('AnalyticsController', AnalyticsController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function BeaconController($stateParams, ExhibitService, DocentService, $state) {\r\n        var self = this;\r\n\r\n        function uniqueSessionsBetweenDates(data, startDate, endDate) {\r\n            var i,\r\n                sessionIds = [],\r\n                visit;\r\n\r\n            i = data.length;\r\n            while (i--) {\r\n                visit = data[i]; \r\n                if (visit.date_indate >= startDate && visit.date_indate <= endDate && sessionIds.indexOf(visit.sessionId) < 0) {\r\n                    sessionIds.push(visit.sessionId);\r\n                }\r\n            }\r\n\r\n            return sessionIds.length;\r\n        }\r\n\r\n        function addHours(date, hours) {\r\n            var result = new Date(date);\r\n            result.setHours(result.getHours() + hours);\r\n            return result;\r\n        }\r\n\r\n        function addDays(date, days) {\r\n            var result = new Date(date);\r\n            result.setDate(result.getDate() + days);\r\n            return result;\r\n        }\r\n\r\n        function buildCards() {\r\n            var i,\r\n                today = new Date(),\r\n                todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n            \r\n            i = self.beacon.visits.length;\r\n            while (i--) {\r\n                self.beacon.visits[i].date_indate = new Date(self.beacon.visits[i].date);\r\n            }\r\n\r\n            self.cards = [];\r\n            self.cards.push({\r\n                title: 'Visitors This Hour',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addHours(today, -1), today)\r\n            });\r\n\r\n            self.cards.push({\r\n                title: 'Visitors Last Hour',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addHours(today, -2), addHours(today, -1))\r\n            });\r\n\r\n            self.cards.push({\r\n                title: 'Visitors Today',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits, todayStart, addDays(todayStart, 1))\r\n            });\r\n\r\n            self.cards.push({\r\n                title: 'Visitors Yesterday',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addDays(todayStart, -1), todayStart)\r\n            });\r\n\r\n            self.cards.push({\r\n                title: 'Visitors Last 7 Days',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits,  addDays(today, -7), today)\r\n            });\r\n\r\n            self.cards.push({\r\n                title: 'Visitors Last 30 Days',\r\n                count: uniqueSessionsBetweenDates(self.beacon.visits, addDays(today, -30), today)\r\n            });\r\n        }\r\n\r\n        ExhibitService.getById($stateParams.id).then(function(data) {\r\n            if (data != null) {\r\n                self.beacon = data;\r\n                self.beacon.beaconType = \"exhibit\";\r\n\r\n                buildCards();\r\n            }\r\n        });\r\n\r\n        DocentService.getById($stateParams.id).then(function(data) {\r\n            if (data != null) {\r\n                self.beacon = data;\r\n                self.beacon.beaconType = \"person\";\r\n\r\n                buildCards();\r\n            }\r\n        });\r\n\r\n        self.goToEdit = function (beacon) {\r\n            switch (self.beacon.beaconType) {\r\n                case 'person':\r\n                    $state.go('admin.forms.docent', { id: self.beacon._id });\r\n                    break;\r\n                case 'exhibit':\r\n                    $state.go('admin.forms.exhibit', { id: self.beacon._id });\r\n                    break;\r\n            }\r\n        };\r\n    }\r\n\r\n    BeaconController.$inject = [\r\n        '$stateParams',\r\n        'ExhibitService',\r\n        'DocentService',\r\n        '$state'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('BeaconController', BeaconController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function BeaconsListController($state, BeaconService) {\r\n        var self = this,\r\n            beacons;\r\n\r\n        BeaconService.getAll().then(function(data) {\r\n            self.beacons = data.value;\r\n        });\r\n\r\n        self.goToEdit = function (beacon) {\r\n            switch (beacon.beaconType) {\r\n            case 'person':\r\n                $state.go('admin.forms.docent', { id: beacon._id });\r\n                break;\r\n            case 'exhibit':\r\n                $state.go('admin.forms.exhibit', { id: beacon._id });\r\n                break;\r\n            }\r\n        };\r\n    }\r\n\r\n    BeaconsListController.$inject = [\r\n        '$state',\r\n        'BeaconService'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('BeaconsListController', BeaconsListController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function DocentFormController($sce, $state, DocentService) {\r\n        var processError,\r\n            vm;\r\n\r\n        vm = this;\r\n        vm.formData = {\r\n            beaconType: 'docent'\r\n        };\r\n\r\n        processError = function (data) {\r\n            vm.error = data.error.message || data.error.errmsg;\r\n            switch (data.error.code) {\r\n                case 4:\r\n                case 5:\r\n                vm.needsLogin = true;\r\n                break;\r\n            }\r\n        };\r\n\r\n        if ($state.params.id) {\r\n            DocentService.getById($state.params.id).then(function (data) {\r\n                vm.formData = data;\r\n                vm.isReady = true;\r\n            });\r\n        } else {\r\n            vm.isReady = true;\r\n        }\r\n\r\n        vm.delete = function () {\r\n            DocentService.deleteById(vm.formData._id).then(function (data) {\r\n                if (data.success) {\r\n                    $state.go('home');\r\n                } else {\r\n                    processError(data);\r\n                }\r\n            });\r\n        };\r\n\r\n        vm.submit = function () {\r\n            vm.error = false;\r\n            vm.success = false;\r\n            vm.scrollToTop = false;\r\n            if (vm.formData._id) {\r\n                DocentService.edit(vm.formData).then(function (data) {\r\n                    if (data.error) {\r\n                        processError(data);\r\n                    }\r\n                    vm.success = 'Docent successfully updated.';\r\n                    vm.formData = data;\r\n                    vm.scrollToTop = true;\r\n                });\r\n            } else {\r\n                DocentService.add(vm.formData).then(function (data) {\r\n                    if (data.error) {\r\n                        processError(data);\r\n                    }\r\n                    vm.success = 'Docent successfully created.';\r\n                    vm.formData = data;\r\n                    vm.scrollToTop = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        vm.trustHtml = function (markup) {\r\n            return $sce.trustAsHtml(markup);\r\n        };\r\n    }\r\n\r\n    DocentFormController.$inject = [\r\n        '$sce',\r\n        '$state',\r\n        'DocentService'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('DocentFormController', DocentFormController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function ExhibitFormController($sce, $state, ExhibitService) {\r\n        var processError,\r\n            vm;\r\n\r\n        vm = this;\r\n        vm.formData = {\r\n            beaconType: 'exhibit'\r\n        };\r\n\r\n        processError = function (data) {\r\n            console.log(data);\r\n            vm.error = data.error.message || data.error.errmsg;\r\n            switch (data.error.code) {\r\n                case 4:\r\n                case 5:\r\n                vm.needsLogin = true;\r\n                break;\r\n            }\r\n        };\r\n\r\n        if ($state.params.id) {\r\n            ExhibitService.getById($state.params.id).then(function (data) {\r\n                vm.formData = data;\r\n                vm.isReady = true;\r\n            });\r\n        } else {\r\n            vm.isReady = true;\r\n        }\r\n\r\n        vm.addPiece = function () {\r\n            if (!vm.formData.pieces) {\r\n                vm.formData.pieces = [];\r\n            }\r\n            vm.formData.pieces.push({});\r\n        };\r\n\r\n        vm.delete = function () {\r\n            ExhibitService.deleteById(vm.formData._id).then(function (data) {\r\n                if (data.success) {\r\n                    $state.go('home');\r\n                } else {\r\n                    processError(data);\r\n                }\r\n            });\r\n        };\r\n\r\n        vm.removePiece = function (index) {\r\n             vm.formData.pieces.splice(index, 1);\r\n        };\r\n\r\n        vm.submit = function () {\r\n            vm.error = false;\r\n            vm.success = false;\r\n            vm.scrollToTop = false;\r\n            if (vm.formData._id) {\r\n                ExhibitService.edit(vm.formData).then(function (data) {\r\n                    if (data.error) {\r\n                        return processError(data);\r\n                    }\r\n                    vm.success = 'Exhibit successfully updated.';\r\n                    vm.formData = data;\r\n                    vm.scrollToTop = true;\r\n                });\r\n            } else {\r\n                ExhibitService.add(vm.formData).then(function (data) {\r\n                    if (data.error) {\r\n                        return processError(data);\r\n                    }\r\n                    vm.success = 'Exhibit successfully created.';\r\n                    vm.formData = data;\r\n                    vm.scrollToTop = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        vm.trustHtml = function (markup) {\r\n            return $sce.trustAsHtml(markup);\r\n        };\r\n    }\r\n\r\n    ExhibitFormController.$inject = [\r\n        '$sce',\r\n        '$state',\r\n        'ExhibitService'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('ExhibitFormController', ExhibitFormController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function DocentController(DocentService, $stateParams) {\r\n        var vm;\r\n\r\n        vm = this;\r\n\r\n        DocentService.getById($stateParams.id).then(function (data) {\r\n            vm.docent = data;\r\n        });\r\n    }\r\n\r\n    DocentController.$inject = [\r\n        'DocentService',\r\n        '$stateParams'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('DocentController', DocentController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function ExhibitController(ExhibitService, $stateParams) {\r\n        var vm;\r\n\r\n        vm = this;\r\n\r\n        ExhibitService.getById($stateParams.id).then(function (data) {\r\n            vm.exhibit = data;\r\n        });\r\n    }\r\n\r\n    ExhibitController.$inject = [\r\n        'ExhibitService',\r\n        '$stateParams'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('ExhibitController', ExhibitController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function ExhibitsController() {}\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('ExhibitsController', ExhibitsController);\r\n}(window.angular));\r\n",
    "(function (angular) {\r\n    'use strict';\r\n\r\n    function HomeController(DocentService, ExhibitService) {\r\n        var vm;\r\n\r\n        vm = this;\r\n\r\n        DocentService.getAll().then(function (data) {\r\n            vm.docents = data.value;\r\n        });\r\n\r\n        ExhibitService.getAll().then(function (data) {\r\n            vm.exhibits = data.value;\r\n        });\r\n\r\n    }\r\n\r\n    HomeController.$inject = [\r\n        'DocentService',\r\n        'ExhibitService'\r\n    ];\r\n\r\n    angular.module('sky-beacons')\r\n        .controller('HomeController', HomeController);\r\n}(window.angular));\r\n",
    "angular.module('sky-beacons.templates', []).run(['$templateCache', function($templateCache) {\r\n    $templateCache.put('../public/app/views/admin/analytics/analytics.html',\r\n        '<div><div ng-repeat=\"beacon in analyticsCtrl.beacons\"><a href=#><h2 style=\"margin: 0 20px\" ui-sref=\"admin.beaconPage({id: beacon._id})\">{{beacon.name}}</h2></a><bb-carousel bb-carousel-style=card-small><bb-carousel-item ng-repeat=\"card in beacon.cards\"><bb-card bb-card-size=small><bb-card-title>{{card.title}}</bb-card-title><bb-card-content style=\"margin-left: auto; margin-right: auto; font-size: 80px\">{{card.count}}</bb-card-content></bb-card></bb-carousel-item></bb-carousel></div></div>');\r\n    $templateCache.put('../public/app/views/admin/beacon/beacon.html',\r\n        '<div><bb-page-summary><bb-page-summary-image><bb-avatar bb-avatar-name=beaconCtrl.beacon.name bb-avatar-src=beaconCtrl.beacon.image></bb-avatar></bb-page-summary-image><bb-page-summary-title>{{beaconCtrl.beacon.name}}</bb-page-summary-title><bb-page-summary-subtitle>{{beaconCtrl.beacon.beaconType}}</bb-page-summary-subtitle><bb-page-summary-content><span class=bb-text-block>{{beaconCtrl.beacon.description}}</span></bb-page-summary-content><bb-page-summary-action-bar><bb-action-bar><bb-action-bar-item ng-click=beaconCtrl.goToEdit()>Edit</bb-action-bar-item></bb-action-bar></bb-page-summary-action-bar></bb-page-summary><div style=\"margin-top: 10px\"><bb-carousel bb-carousel-style=card-small><bb-carousel-item ng-repeat=\"card in beaconCtrl.cards\"><bb-card bb-card-size=small><bb-card-title>{{card.title}}</bb-card-title><bb-card-content style=\"margin-left: auto; margin-right: auto; font-size: 80px\">{{card.count}}</bb-card-content></bb-card></bb-carousel-item></bb-carousel></div></div>');\r\n    $templateCache.put('../public/app/views/admin/beacons/beacons.html',\r\n        '<div class=container><bb-carousel bb-carousel-style=card-large><bb-carousel-item ng-repeat=\"beacon in beaconsCtrl.beacons\"><bb-card bb-card-size=large><bb-card-title>{{beacon.name}}</bb-card-title><bb-card-content><div class=bb-emphasized>ID</div>{{beacon.UID}}<div class=bb-emphasized style=\"margin-top: 10px\">Type</div>{{beacon.beaconType}}<div class=bb-emphasized style=\"margin-top: 10px\">Description</div>{{beacon.description}}</bb-card-content><bb-card-actions><button type=button class=\"btn btn-primary\" ui-sref=admin.beaconPage({id:beacon._id})>More information</button> <button type=button class=\"btn btn-default\" ng-click=beaconsCtrl.goToEdit(beacon)>Edit</button></bb-card-actions></bb-card></bb-carousel-item></bb-carousel><p><a ui-sref=admin.forms.exhibit()>Create Exhibit</a></p><p><a ui-sref=admin.forms.docent()>Create Docent</a></p></div>');\r\n    $templateCache.put('../public/app/views/admin/forms/docent/docent.html',\r\n        '<div class=container ng-if=::formCtrl.isReady><div class=page-header bb-scroll-into-view=formCtrl.scrollToTop><h1 ng-if=formCtrl.formData._id>Edit {{ formCtrl.formData.name }}</h1><h1 ng-if=!formCtrl.formData._id>Add Docent</h1></div><div ng-if=formCtrl.success class=\"alert alert-success\" ng-bind-html=formCtrl.trustHtml(formCtrl.success)></div><div ng-if=formCtrl.error class=\"alert alert-danger\"><p ng-bind-html=formCtrl.trustHtml(formCtrl.error)></p></div><form name=docentForm class=form-horizontal ng-submit=formCtrl.submit() novalidate><div class=row><div class=col-sm-10><div class=form-group><label class=\"col-sm-2 control-label\">Name:</label><div class=col-sm-10><input class=form-control name=name ng-model=formCtrl.formData.name></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Beacon UID:</label><div class=col-sm-10><input class=form-control name=UID ng-model=formCtrl.formData.UID></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Title:</label><div class=col-sm-10><input class=form-control name=title ng-model=formCtrl.formData.title></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Expertise:</label><div class=col-sm-10><input class=form-control name=expertise ng-model=formCtrl.formData.expertise></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Image URL:</label><div class=col-sm-10><input class=form-control name=image ng-model=formCtrl.formData.image></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Bio:</label><div class=col-sm-10><textarea class=form-control name=description ng-model=formCtrl.formData.description></textarea></div></div></div><div class=col-sm-2><button ng-if=formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=docentForm.$invalid><i class=\"fa fa-save\"></i>Save</button> <button ng-if=!formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=docentForm.$invalid><i class=\"fa fa-plus\"></i>Create</button> <button ng-if=formCtrl.formData._id class=\"btn btn-danger btn-block\" type=button cc-confirm-click data-confirmed-click=formCtrl.delete()><i class=\"fa fa-trash\"></i>Delete</button></div></div></form></div>');\r\n    $templateCache.put('../public/app/views/admin/forms/exhibit/exhibit.html',\r\n        '<div class=container ng-if=::formCtrl.isReady><div class=page-header bb-scroll-into-view=formCtrl.scrollToTop><h1 ng-if=formCtrl.formData._id>Edit {{ formCtrl.formData.name }}</h1><h1 ng-if=!formCtrl.formData._id>Add Exhibit</h1></div><div ng-if=formCtrl.success class=\"alert alert-success\" ng-bind-html=formCtrl.trustHtml(formCtrl.success)></div><div ng-if=formCtrl.error class=\"alert alert-danger\"><p ng-bind-html=formCtrl.trustHtml(formCtrl.error)></p></div><form name=exhibitForm class=form-horizontal ng-submit=formCtrl.submit() novalidate><div class=row><div class=col-sm-10><ul class=\"nav nav-tabs\"><li role=presentation class=active><a href=#tab-details target=_self data-toggle=tab>Details</a></li><li role=presentation><a href=#tab-pieces target=_self data-toggle=tab>Pieces</a></li></ul><div class=tab-content><div class=\"tab-pane active\" id=tab-details><div class=form-group><label class=\"col-sm-2 control-label\">Name:</label><div class=col-sm-10><input class=form-control name=name ng-model=formCtrl.formData.name></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Beacon UID:</label><div class=col-sm-10><input class=form-control name=UID ng-model=formCtrl.formData.UID></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Image URL:</label><div class=col-sm-10><input class=form-control name=image ng-model=formCtrl.formData.image></div></div><div class=form-group><label class=\"col-sm-2 control-label\">Description:</label><div class=col-sm-10><textarea class=form-control name=description ng-model=formCtrl.formData.description></textarea></div></div></div><div class=tab-pane id=tab-pieces><div class=form-group><label class=\"col-sm-2 control-label\">Pieces:</label><div class=col-sm-10><div ng-repeat=\"piece in formCtrl.formData.pieces\" class=form-group-list-item><div class=row><div class=col-sm-10><div class=row><div class=col-sm-6><div class=form-group><label>Name:</label><input class=form-control ng-model=piece.name></div></div><div class=col-sm-6><div class=form-group><label>Description:</label><textarea class=form-control type=text ng-model=piece.description></textarea></div></div></div><div class=row><div class=col-sm-6><div class=form-group><label>Full URL:</label><input class=form-control ng-model=piece.link placeholder=\"http://\"></div></div><div class=col-sm-6><div class=form-group><label>Image URL:</label><input class=form-control ng-model=piece.image placeholder=\"http://\"></div></div></div></div><div class=col-sm-2><div class=form-group><label>&nbsp;</label><button type=button class=\"btn btn-default btn-sm btn-block\" ng-click=formCtrl.removePiece($index)><i class=\"fa fa-minus\"></i>Remove</button></div></div></div></div><button type=button class=\"btn btn-link\" ng-click=formCtrl.addPiece()><i class=\"fa fa-plus\"></i> Add Piece</button></div></div></div></div></div><div class=col-sm-2><button ng-if=formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=exhibitForm.$invalid><i class=\"fa fa-save\"></i>Save</button> <button ng-if=!formCtrl.formData._id class=\"btn btn-primary btn-lg btn-block\" type=submit ng-disabled=exhibitForm.$invalid><i class=\"fa fa-plus\"></i>Create</button> <button ng-if=formCtrl.formData._id class=\"btn btn-danger btn-block\" type=button cc-confirm-click data-confirmed-click=formCtrl.delete()><i class=\"fa fa-trash\"></i>Delete</button></div></div></form></div>');\r\n    $templateCache.put('../public/app/views/docent/docent.html',\r\n        '<section class=\"section container\"><h1 class=page-header>{{:: docentCtrl.docent.name }}</h1><img class=\"ex-image img-responsive\" src=\"{{:: docentCtrl.docent.image }}\"><p class=ex-description>{{:: docentCtrl.docent.description }}</p></section>');\r\n    $templateCache.put('../public/app/views/exhibit/exhibit.html',\r\n        '<section class=\"section container\"><h1 class=page-header>{{:: exhibitCtrl.exhibit.name }}</h1><img class=\"ex-image img-responsive\" ng-src=\"{{:: exhibitCtrl.exhibit.image }}\"><p class=ex-description>{{:: exhibitCtrl.exhibit.description }}</p></section><section class=container><h2>Pieces in this exhibit</h2><div class=media ng-repeat=\"piece in exhibitCtrl.exhibit.pieces\"><div class=media-left><a href=#><img class=media-object ng-src={{piece.image}} alt=\"\"></a></div><div class=media-body><h4 class=media-heading>{{piece.name}}</h4><p>{{piece.description}}</p><p><a href={{piece.link}}>Read more</a></p></div></div></section>');\r\n    $templateCache.put('../public/app/views/exhibits/exhibits.html',\r\n        'Hello, World!');\r\n    $templateCache.put('../public/app/views/home/home.html',\r\n        '<section class=\"section home section-primary\"><header class=container><h1>Sky Beacons</h1></header></section><div class=container><div class=row><div class=col-md-12><h2 class=home-subhead>Exhibits</h2></div><div ng-repeat=\"exhibit in homeCtrl.exhibits\" class=col-md-4><div class=\"panel panel-default\"><div class=panel-heading><h3 class=\"bb-section-heading panel-title\">{{:: exhibit.name }}</h3></div><div class=panel-body><img class=img-responsive ng-src=\"{{:: exhibit.image }}\"> <button class=\"btn btn-primary pull-right\" ui-sref=\"exhibit({id: exhibit._id})\">View</button></div></div></div></div><div class=row><div class=col-md-12><h2 class=home-subhead>Docents</h2></div><div ng-repeat=\"docent in homeCtrl.docents\" class=col-md-4><div class=\"panel panel-default\"><div class=panel-heading><h3 class=\"bb-section-heading panel-title\">{{:: docent.name }}</h3><h5 class=bb-section-subheading>{{:: docent.expertise}}</h5></div><div class=panel-body><img class=img-responsive ng-src=\"{{:: docent.image }}\"> <button class=\"btn btn-primary pull-right\" ui-sref=\"docent({id: docent._id})\">View</button></div></div></div></div></div>');\r\n}]);\r\n"
  ]
}